{% extends 'base.html' %}

{% block content %}
    <a href="/classes/{{gym_class.id}}/edit" class="create_edit_cancel">Edit class details </a>
    <header>
        <h3>Class details</h3>
    </header>

    <p>{{gym_class.class_type}}</p>
    <p>{{gym_class.instructor.name}}</p>
    <p>{{gym_class.date[8:10]}}/{{gym_class.date[5:7]}}/{{gym_class.date[:4]}}</p>
    <p>{{gym_class.time}}</p>
    <p>{{gym_class.duration}}</p>
    <p>{{gym_class.location.name}}</p>
    <p>{{gym_class.location.capacity}}</p>

    <form action="/classes/{{gym_class.id}}/delete" method="POST">
        <input type="submit" value="Delete class">
    </form>

    <form action="/attendances/new" method="POST">
        <input type="hidden" name="class_id" value="{{gym_class.id}}">
        <label for="member">Add member to class: </label>
        <select name="member_id" id="member">
            <option value="" selected="true" disabled="disabled">Select a member</option>
            {% for member in members %}
            <option value="{{member.id}}">#{{member.id}} - {{member.first_name}} {{member.last_name}}</option>
            {% endfor %}
        </select>
        <input type="submit" value="Add">
    </form>

    <header>
        <h3>Members booked in</h3>
    </header>

    {% for member in attendees %}
    <a href="/members/{{member.id}}">
        <p>{{member.first_name}}</p>
        <p>{{member.last_name}}</p>
        <p>{{member.id}}</p>
    </a>
    {% endfor %}

{% endblock %}